<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8" />

        <title>Gazetteer | Geographical places dictionary| ITCS</title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Gazetteer </title>
        <meta name="author" content="Artur Knul">
        <meta name="description"
            content="Gazetteer - geographical places dictionary" />

            
        <link rel="shortcut icon" href="assets/icons/icon.ico" type="image/x-icon">
        <link rel="stylesheet" href="vendors/leaflet@1.4.0/leaflet.css" />
        <link rel="stylesheet" href="vendors/bootstrap@4.3.1/bootstrap.min.css" />
        <link rel="stylesheet" href="assets/css/style.css" />

        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
              integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
              crossorigin=""/>
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
                integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
                crossorigin=""></script>
        
    </head>

    <body>
        
        <!-- preloader -->
      <div class="loader"></div>


        <header class="header px-0">
            <nav class="navbar navbar-expand-lg navbar-dark bg-secondary pt-2">
                <a class="navbar-brand" href="#">
                    <h1>
                        Gazetteer
                    </h1>
                </a>

                <form id="coords">
                    <input type="hidden" id="lat" name="lat" value="">
                    <input type="hidden" id="lng" name="lng" value="">
                </form>
    
                <form id='country-form' class="form-inline mt-4 px-4 justify-content-center">
                    <input type="text" name="country" id="country" class="form-control border-primary pr-3"
                        placeholder="Numbers or english word" pattern="^[A-Za-z]{2,}([A-Za-z '-]+)?$">
                    <input name="submit" type="submit" class="btn form-control btn-primary px-4" value="Search country name or code">
                </form>

                <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navbar"
                    aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbar">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item text-center lead">
                            <a class="nav-link" href="#" id="about" data-toggle="modal" data-target="#modal">About</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>

        <div id="entranceMap" style="width: 100vw; height: 800px"></div>

            <!-- #display -->
            <div id="display"></div>


            <!-- Modal -->
            <div class="modal px-0" id="modal">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header border-bottom-0">
                            <h4 class="modal-title mx-auto pl-5"></h4>
                            <button type="button" class="close modal-close mx-0" data-dismiss="modal">&times;</button>
                        </div>
                        <div class="modal-body px-4 py-1">
                            <div class="text-center lead text-primary">Loading
                                <span class="spinner-grow spinner-grow-sm"> </span>
                                <span class="spinner-grow spinner-grow-sm"> </span>
                                <span class="spinner-grow spinner-grow-sm"> </span>
                            </div>
                        </div>
                        <div class="modal-footer border-top-0">
                            <button type="button" class="modal-close btn btn-danger mx-auto" data-dismiss="modal">
                                Close</button>
                        </div>
                    </div>
                </div>
            </div>

        
        <footer class="mt-auto text-center py-3">
            <small>Geographical place dictionary</small>
        </footer>

        <script> 

            // Initialize the map 
            const entranceMap = L.map('entranceMap');
          
            // Get the tile layer from OpenStreetMaps 
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { 
          
            // Specify the maximum zoom of the map 
            maxZoom: 19, 
          
            // Set the attribution for OpenStreetMaps 
            attribution: 'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors' 
            }).addTo(entranceMap); 
          
            // Set the view of the map 
            // with the latitude, longitude and the zoom value 
            //map.setView([48.8584, 2.2945], 16); 
              
            
         
            // Set the map view to the user's location 
            // Uncomment below to set map according to user location 
            entranceMap.locate({setView: true, maxZoom: 13}); 
          
            
         
            function onLocationFound(e) {
              var radius = e.accuracy / 2;
              L.marker(e.latlng).addTo(entranceMap)
                .bindPopup("You are within " + radius + " meters from this point").openPopup();
              L.circle(e.latlng, radius).addTo(entranceMap);
         }
         
         entranceMap.on('locationfound', onLocationFound);
         entranceMap.locate({setView: true, watch: true, maxZoom: 13});
           
         
         
</script>

        <!-- Leaflet.js, jQuery, Popper, Bootstrap scripts -->
        <script src="vendors/leaflet@1.4.0/leaflet.js"></script>
        <script src="vendors/jquery@3.5.1/jquery-3.5.1.min.js"></script>
        <script src="vendors/popper@1.14.7/popper.min.js"></script>
        <script src="vendors/bootstrap@4.3.1/bootstrap.min.js"></script>
        <!-- Main script file-->
        <script defer type="module" src="js/index.js"></script>
    </body>

</html>